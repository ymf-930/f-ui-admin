import{a9 as I,k as g,A as N,D as d,o as u,g as y,d as c,c as l,w as r,q as x,F as R,N as T,a as C,t as D,n as k,ac as F,ad as L}from"./vendor-hiTJ0WGS.js";import"./chunk-brace-VHCFl5c9.js";const q=p=>(F("data-v-555fff10"),p=p(),L(),p),A={class:"p24"},G={flex:""},J={style:{width:"calc(100% - 600px)"},class:"p10"},W={flex:"cross:center"},z=q(()=>c("span",{class:"mr-5"},"dev模式",-1)),E={__name:"line-path",setup(p){const f=g(null),h=[[100,100],[200,100],[230,200],[250,50],[270,180],[300,60],[330,160],[350,60],[380,100],[480,100]],_=g(!1),s=g([...h]);function P(t){t?s.value=[]:s.value=[...h],k(()=>m())}function S(t){s.value.push(t),k(()=>m())}function b(t){let e=t.width,a=t.height,o=window.devicePixelRatio||1;o!==1&&(t.style.width=e+"px",t.style.height=a+"px",t.height=a*o,t.width=e*o,t.getContext("2d").scale(o,o))}function V(t,e,a,o,n){const i=t.createLinearGradient(e,a,o,n);return i.addColorStop(0,"#9a12b3"),i.addColorStop(1,"#19b5fe"),i}function w(t,e){for(let a=0;a<e.length;a++){const[o,n]=e[a];a===0?t.moveTo(o,n):t.lineTo(o,n)}}function m(){const t=f.value,e=t.getContext("2d"),a=t.width,o=t.height;let n=100;b(t);function i(){e.fillStyle="black",e.fillRect(0,0,a,o),e.lineWidth=3,e.save(),e.beginPath(),w(e,s.value),e.strokeStyle="gray",e.lineJoin="round",e.stroke(),e.beginPath(),e.rect(n,0,150,500),e.clip(),e.beginPath(),w(e,s.value),e.lineWidth=4,e.strokeStyle=V(e,n,0,n+150,0),e.lineCap="round",e.lineJoin="round",e.stroke(),e.restore(),n+=2,n>600&&(n=0),requestAnimationFrame(i)}i()}return N(()=>{m()}),(t,e)=>{const a=d("dev-pos"),o=d("f-switch"),n=d("f-tag"),i=d("f-divider");return u(),y("div",A,[c("div",G,[l(a,{dev:_.value,onDevPos:S},{default:r(()=>[c("canvas",{class:"canvas",ref_key:"domRef",ref:f,width:"600",height:"250"},null,512)]),_:1},8,["dev"]),c("div",J,[c("div",W,[z,l(o,{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=v=>_.value=v),size:"small",onChange:P},null,8,["modelValue"]),l(n,{type:"warning",style:{margin:"0 0 0 5px"}},{default:r(()=>[x(" dev模式会清空数据点,点击区域内部进行新增 ")]),_:1})]),l(i),l(n,null,{default:r(()=>[x("点位")]),_:1}),c("div",null,[(u(!0),y(R,null,T(s.value,(v,B)=>(u(),C(n,{type:"primary",key:B,style:{margin:"0 4px 4px 0"}},{default:r(()=>[x(D(v),1)]),_:2},1024))),128))])])])])}}},M=I(E,[["__scopeId","data-v-555fff10"]]),j={__name:"index",setup(p){return(f,h)=>{const _=d("f-collapse-wrap"),s=d("page-container");return u(),C(s,null,{default:r(()=>[l(_,{title:"canvas绘制折线路径动画",shadow:"none",class:"mb-16"},{default:r(()=>[l(M)]),_:1})]),_:1})}}};export{j as default};
