import{a9 as I,k as g,A as N,D as d,o as f,g as y,d as c,c as i,w as r,q as x,F as R,N as T,a as P,t as D,n as k,ac as F,ad as L}from"./vendor-d80b6e14.js";import"./chunk-brace-bde7130a.js";const q=_=>(F("data-v-555fff10"),_=_(),L(),_),A={class:"p24"},G={flex:""},J={style:{width:"calc(100% - 600px)"},class:"p10"},W={flex:"cross:center"},z=q(()=>c("span",{class:"mr-5"},"dev模式",-1)),E={__name:"line-path",setup(_){const u=g(null),h=[[100,100],[200,100],[230,200],[250,50],[270,180],[300,60],[330,160],[350,60],[380,100],[480,100]],p=g(!1),s=g([...h]);function C(t){t?s.value=[]:s.value=[...h],k(()=>v())}function S(t){s.value.push(t),k(()=>v())}function b(t){let e=t.width,a=t.height,o=window.devicePixelRatio||1;o!==1&&(t.style.width=e+"px",t.style.height=a+"px",t.height=a*o,t.width=e*o,t.getContext("2d").scale(o,o))}function V(t,e,a,o,n){const l=t.createLinearGradient(e,a,o,n);return l.addColorStop(0,"#9a12b3"),l.addColorStop(1,"#19b5fe"),l}function w(t,e){for(let a=0;a<e.length;a++){const[o,n]=e[a];a===0?t.moveTo(o,n):t.lineTo(o,n)}}function v(){const t=u.value,e=t.getContext("2d"),a=t.width,o=t.height;let n=100;b(t);function l(){e.fillStyle="black",e.fillRect(0,0,a,o),e.lineWidth=3,e.save(),e.beginPath(),w(e,s.value),e.strokeStyle="gray",e.lineJoin="round",e.stroke(),e.beginPath(),e.rect(n,0,150,500),e.clip(),e.beginPath(),w(e,s.value),e.lineWidth=4,e.strokeStyle=V(e,n,0,n+150,0),e.lineCap="round",e.lineJoin="round",e.stroke(),e.restore(),n+=2,n>600&&(n=0),requestAnimationFrame(l)}l()}return N(()=>{v()}),(t,e)=>{const a=d("dev-pos"),o=d("f-switch"),n=d("f-tag"),l=d("f-divider");return f(),y("div",A,[c("div",G,[i(a,{dev:p.value,onDevPos:S},{default:r(()=>[c("canvas",{class:"canvas",ref_key:"domRef",ref:u,width:"600",height:"250"},null,512)]),_:1},8,["dev"]),c("div",J,[c("div",W,[z,i(o,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=m=>p.value=m),size:"small",onChange:C},null,8,["modelValue"]),i(n,{type:"warning",style:{margin:"0 0 0 5px"}},{default:r(()=>[x(" dev模式会清空数据点,点击区域内部进行新增 ")]),_:1})]),i(l),i(n,null,{default:r(()=>[x("点位")]),_:1}),c("div",null,[(f(!0),y(R,null,T(s.value,(m,B)=>(f(),P(n,{type:"primary",key:B,style:{margin:"0 4px 4px 0"}},{default:r(()=>[x(D(m),1)]),_:2},1024))),128))])])])])}}},M=I(E,[["__scopeId","data-v-555fff10"]]),j={__name:"index",setup(_){return(u,h)=>{const p=d("f-collapse-wrap"),s=d("page-container");return f(),P(s,null,{default:r(()=>[i(p,{title:"canvas绘制折线路径动画",shadow:"none",class:"mb-16"},{default:r(()=>[i(M)]),_:1})]),_:1})}}};export{j as default};
