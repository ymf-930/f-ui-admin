import{g as M}from"./user.api-9434580a.js";import{u as F}from"./useTable-3d3d2c70.js";import{a9 as T,z as j,k as x,J as E,a as w,w as o,D as l,o as _,c as a,g as q,N as J,F as k,h as A,q as r,t as C,d as G}from"./vendor-3647c542.js";import"./index-fa9ea2b9.js";import"./chunk-f-ui-one-208e726e.js";import"./chunk-brace-c1a5251e.js";const H={name:"SearchList",setup(){const c=j({page:1,size:10,name:"",roles:"",status:"",date:"",email:""}),t=x(!1),f=x([]),{loading:e,list:g,total:y,getListData:i,pageChange:d,pageSizeChange:m}=F(M,c);return E(g,u=>{f.value=u.map(p=>({...p,expand:!1}))}),i(),{expand:t,query:c,loading:e,roleMap:{admin:"管理员",user:"普通用户",op:"实施人员"},total:y,copyList:f,getListData:i,pageChange:d,pageSizeChange:m,columns:[{title:"姓名",key:"realName"},{title:"登录名",key:"username"},{title:"邮箱",key:"email"},{title:"角色",slot:"roles"},{title:"出生日期",key:"createDate"},{title:"操作",width:100,align:"center",slot:"action"}]}}},I={flex:"main:justify"};function K(c,t,f,e,g,y){const i=l("f-input"),d=l("f-form-item"),m=l("f-option"),u=l("f-select"),p=l("f-date-picker"),s=l("f-button"),z=l("f-form"),v=l("f-icon"),b=l("f-dropdown-item"),h=l("f-dropdown-menu"),L=l("f-dropdown"),N=l("action-button"),S=l("f-table"),U=l("f-page"),B=l("base-table"),D=l("page-container");return _(),w(D,{desc:"基础表格的查询列表，带有常规操作。"},{default:o(()=>[a(B,null,{filter:o(()=>[a(z,{"label-width":"95px"},{default:o(()=>[a(d,{label:"用户名称"},{default:o(()=>[a(i,{modelValue:e.query.name,"onUpdate:modelValue":t[0]||(t[0]=n=>e.query.name=n),clearable:""},null,8,["modelValue"])]),_:1}),a(d,{label:"用户角色"},{default:o(()=>[a(u,{modelValue:e.query.roles,"onUpdate:modelValue":t[1]||(t[1]=n=>e.query.roles=n),clearable:""},{default:o(()=>[(_(!0),q(k,null,J(e.roleMap,(n,V)=>(_(),w(m,{key:V,label:n,value:V},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e.expand?(_(),q(k,{key:0},[a(d,{label:"状态"},{default:o(()=>[a(u,{modelValue:e.query.status,"onUpdate:modelValue":t[2]||(t[2]=n=>e.query.status=n),clearable:""},{default:o(()=>[a(m,{label:"启用",value:"1"}),a(m,{label:"禁用",value:"0"})]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"邮箱"},{default:o(()=>[a(i,{modelValue:e.query.email,"onUpdate:modelValue":t[3]||(t[3]=n=>e.query.email=n),clearable:""},null,8,["modelValue"])]),_:1}),a(d,{label:"日期"},{default:o(()=>[a(p,{modelValue:e.query.date,"onUpdate:modelValue":t[4]||(t[4]=n=>e.query.date=n),clearable:""},null,8,["modelValue"])]),_:1})],64)):A("",!0),a(d,null,{default:o(()=>[a(s,null,{default:o(()=>[r("重置")]),_:1}),a(s,{type:"primary",loading:e.loading},{default:o(()=>[r("查询")]),_:1},8,["loading"]),a(s,{type:"text",icon:e.expand?"up":"down",onClick:t[5]||(t[5]=n=>e.expand=!e.expand)},{default:o(()=>[r(C(e.expand?"收起":"展开"),1)]),_:1},8,["icon"])]),_:1})]),_:1})]),action:o(()=>[G("div",I,[a(s,{type:"primary",icon:"plus-circle"},{default:o(()=>[r("新增")]),_:1}),a(L,{style:{"margin-left":"20px"}},{dropdown:o(()=>[a(h,null,{default:o(()=>[a(b,null,{default:o(()=>[r("刷新")]),_:1}),a(b,null,{default:o(()=>[r("删除")]),_:1})]),_:1})]),default:o(()=>[a(s,null,{default:o(()=>[r(" 更多操作 "),a(v,{name:"down"})]),_:1})]),_:1})])]),page:o(()=>[a(U,{total:e.total,current:e.query.page,"page-size":e.query.size,"show-sizer":"","show-total":"",onChange:e.pageChange,onSizeChange:e.pageSizeChange},null,8,["total","current","page-size","onChange","onSizeChange"])]),default:o(()=>[a(S,{columns:e.columns,data:e.copyList,loading:e.loading,border:""},{roles:o(({row:n})=>[r(C(e.roleMap[n.roles]),1)]),action:o(()=>[a(N,{type:"text"},{default:o(()=>[r("编辑")]),_:1})]),_:1},8,["columns","data","loading"])]),_:1})]),_:1})}const Y=T(H,[["render",K]]);export{Y as default};
